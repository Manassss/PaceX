{"ast":null,"code":"var _jsxFileName = \"/Users/manas_mm/Desktop/Uni-Sphere/client/src/components/Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { TextField, Button, Container, Typography, Box, Paper, Link } from '@mui/material';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../auth/AuthContext'; // Import the AuthContext\nimport { getAuth, signInWithEmailAndPassword } from \"firebase/auth\";\nimport backgroundImage from \"../assets/paceuni.jpg\"; // ‚úÖ Import background image\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const [formData, setFormData] = useState({\n    email: '',\n    password: ''\n  });\n  const [message, setMessage] = useState('');\n  const navigate = useNavigate();\n  const {\n    login\n  } = useAuth(); // Get the login function from context\n  const auth = getAuth();\n  const handleChange = e => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      const {\n        email,\n        password\n      } = formData;\n      const userCredential = await signInWithEmailAndPassword(auth, email, password);\n      const user = userCredential.user;\n      if (!user.emailVerified) {\n        setMessage(\"‚ùå Email not verified. Please check your inbox.\");\n        return;\n      }\n      const idToken = await user.getIdToken();\n      const res = await axios.post('http://localhost:5001/api/users/login', {\n        idToken\n      });\n      setMessage('üéâ Login Successful!');\n      console.log('User Logged In:', res.data);\n      login(res.data.user);\n      navigate('/userhome');\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setMessage('‚ùå Login Failed');\n      console.error(\"Login Error:\", ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || \"Server Error\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      minHeight: \"100vh\",\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      backgroundImage: `url(${backgroundImage})`,\n      backgroundSize: \"cover\",\n      backgroundPosition: \"center\"\n    },\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"sm\",\n      children: /*#__PURE__*/_jsxDEV(Paper, {\n        elevation: 10,\n        sx: {\n          p: 5,\n          borderRadius: 4,\n          backdropFilter: \"blur(10px)\",\n          backgroundColor: \"rgba(255, 255, 255, 0.2)\",\n          // Frosted glass effect\n          boxShadow: \"0px 8px 20px rgba(0,0,0,0.3)\",\n          color: \"#fff\",\n          textAlign: \"center\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h4\",\n          component: \"h1\",\n          gutterBottom: true,\n          fontWeight: \"bold\",\n          children: \"Welcome Back!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          sx: {\n            mb: 3,\n            fontSize: \"1rem\"\n          },\n          children: \"Log in to continue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          component: \"form\",\n          onSubmit: handleSubmit,\n          sx: {\n            display: \"flex\",\n            flexDirection: \"column\",\n            gap: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Email\",\n            variant: \"outlined\",\n            name: \"email\",\n            type: \"email\",\n            onChange: handleChange,\n            required: true,\n            sx: {\n              backgroundColor: \"white\",\n              borderRadius: 1\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Password\",\n            variant: \"outlined\",\n            name: \"password\",\n            type: \"password\",\n            onChange: handleChange,\n            required: true,\n            sx: {\n              backgroundColor: \"white\",\n              borderRadius: 1\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"secondary\",\n            type: \"submit\",\n            sx: {\n              mt: 2,\n              py: 1.5,\n              fontWeight: \"bold\",\n              background: \"linear-gradient(45deg, #FF416C, #FF4B2B)\",\n              \"&:hover\": {\n                background: \"linear-gradient(45deg, #FF4B2B, #FF416C)\"\n              }\n            },\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            sx: {\n              mt: 2\n            },\n            children: [\"Don't have an account? \", /*#__PURE__*/_jsxDEV(Link, {\n              href: \"/register\",\n              sx: {\n                color: \"#FFD700\",\n                fontWeight: \"bold\"\n              },\n              children: \"Register\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 52\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this), message && /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          color: \"success.main\",\n          sx: {\n            mt: 2\n          },\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n};\n_s(Login, \"oRUd60KOLUD9IasGa049NvVaLkY=\", false, function () {\n  return [useNavigate, useAuth];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","axios","TextField","Button","Container","Typography","Box","Paper","Link","useNavigate","useAuth","getAuth","signInWithEmailAndPassword","backgroundImage","jsxDEV","_jsxDEV","Login","_s","formData","setFormData","email","password","message","setMessage","navigate","login","auth","handleChange","e","target","name","value","handleSubmit","preventDefault","userCredential","user","emailVerified","idToken","getIdToken","res","post","console","log","data","err","_err$response","_err$response$data","error","response","sx","minHeight","display","justifyContent","alignItems","backgroundSize","backgroundPosition","children","maxWidth","elevation","p","borderRadius","backdropFilter","backgroundColor","boxShadow","color","textAlign","variant","component","gutterBottom","fontWeight","fileName","_jsxFileName","lineNumber","columnNumber","mb","fontSize","onSubmit","flexDirection","gap","label","type","onChange","required","mt","py","background","href","_c","$RefreshReg$"],"sources":["/Users/manas_mm/Desktop/Uni-Sphere/client/src/components/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { TextField, Button, Container, Typography, Box, Paper, Link } from '@mui/material';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../auth/AuthContext';  // Import the AuthContext\nimport { getAuth, signInWithEmailAndPassword } from \"firebase/auth\";\nimport backgroundImage from \"../assets/paceuni.jpg\"; // ‚úÖ Import background image\n\nconst Login = () => {\n    const [formData, setFormData] = useState({ email: '', password: '' });\n    const [message, setMessage] = useState('');\n    const navigate = useNavigate();\n    const { login } = useAuth();  // Get the login function from context\n    const auth = getAuth();\n\n    const handleChange = (e) => {\n        setFormData({ ...formData, [e.target.name]: e.target.value });\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        try {\n            const { email, password } = formData;\n            const userCredential = await signInWithEmailAndPassword(auth, email, password);\n            const user = userCredential.user;\n\n            if (!user.emailVerified) {\n                setMessage(\"‚ùå Email not verified. Please check your inbox.\");\n                return;\n            }\n\n            const idToken = await user.getIdToken();\n            const res = await axios.post('http://localhost:5001/api/users/login', { idToken });\n\n            setMessage('üéâ Login Successful!');\n            console.log('User Logged In:', res.data);\n\n            login(res.data.user);\n            navigate('/userhome');\n\n        } catch (err) {\n            setMessage('‚ùå Login Failed');\n            console.error(\"Login Error:\", err.response?.data?.message || \"Server Error\");\n        }\n    };\n\n    return (\n        <Box\n            sx={{\n                minHeight: \"100vh\",\n                display: \"flex\",\n                justifyContent: \"center\",\n                alignItems: \"center\",\n                backgroundImage: `url(${backgroundImage})`,\n                backgroundSize: \"cover\",\n                backgroundPosition: \"center\",\n            }}\n        >\n            <Container maxWidth=\"sm\">\n                <Paper\n                    elevation={10}\n                    sx={{\n                        p: 5,\n                        borderRadius: 4,\n                        backdropFilter: \"blur(10px)\",\n                        backgroundColor: \"rgba(255, 255, 255, 0.2)\", // Frosted glass effect\n                        boxShadow: \"0px 8px 20px rgba(0,0,0,0.3)\",\n                        color: \"#fff\",\n                        textAlign: \"center\",\n                    }}\n                >\n                    <Typography variant=\"h4\" component=\"h1\" gutterBottom fontWeight=\"bold\">\n                        Welcome Back!\n                    </Typography>\n                    <Typography variant=\"body1\" sx={{ mb: 3, fontSize: \"1rem\" }}>\n                        Log in to continue\n                    </Typography>\n\n                    <Box component=\"form\" onSubmit={handleSubmit} sx={{ display: \"flex\", flexDirection: \"column\", gap: 2 }}>\n                        <TextField\n                            label=\"Email\"\n                            variant=\"outlined\"\n                            name=\"email\"\n                            type=\"email\"\n                            onChange={handleChange}\n                            required\n                            sx={{ backgroundColor: \"white\", borderRadius: 1 }}\n                        />\n                        <TextField\n                            label=\"Password\"\n                            variant=\"outlined\"\n                            name=\"password\"\n                            type=\"password\"\n                            onChange={handleChange}\n                            required\n                            sx={{ backgroundColor: \"white\", borderRadius: 1 }}\n                        />\n                        <Button\n                            variant=\"contained\"\n                            color=\"secondary\"\n                            type=\"submit\"\n                            sx={{\n                                mt: 2,\n                                py: 1.5,\n                                fontWeight: \"bold\",\n                                background: \"linear-gradient(45deg, #FF416C, #FF4B2B)\",\n                                \"&:hover\": { background: \"linear-gradient(45deg, #FF4B2B, #FF416C)\" }\n                            }}\n                        >\n                            Login\n                        </Button>\n                        <Typography variant=\"body2\" sx={{ mt: 2 }}>\n                            Don't have an account? <Link href=\"/register\" sx={{ color: \"#FFD700\", fontWeight: \"bold\" }}>Register</Link>\n                        </Typography>\n                    </Box>\n                    {message && (\n                        <Typography variant=\"body1\" color=\"success.main\" sx={{ mt: 2 }}>\n                            {message}\n                        </Typography>\n                    )}\n                </Paper>\n            </Container>\n        </Box>\n    );\n};\n\nexport default Login;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,EAAEC,MAAM,EAAEC,SAAS,EAAEC,UAAU,EAAEC,GAAG,EAAEC,KAAK,EAAEC,IAAI,QAAQ,eAAe;AAC1F,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,OAAO,QAAQ,qBAAqB,CAAC,CAAE;AAChD,SAASC,OAAO,EAAEC,0BAA0B,QAAQ,eAAe;AACnE,OAAOC,eAAe,MAAM,uBAAuB,CAAC,CAAC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAErD,MAAMC,KAAK,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAChB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGnB,QAAQ,CAAC;IAAEoB,KAAK,EAAE,EAAE;IAAEC,QAAQ,EAAE;EAAG,CAAC,CAAC;EACrE,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGvB,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAMwB,QAAQ,GAAGf,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAEgB;EAAM,CAAC,GAAGf,OAAO,CAAC,CAAC,CAAC,CAAE;EAC9B,MAAMgB,IAAI,GAAGf,OAAO,CAAC,CAAC;EAEtB,MAAMgB,YAAY,GAAIC,CAAC,IAAK;IACxBT,WAAW,CAAC;MAAE,GAAGD,QAAQ;MAAE,CAACU,CAAC,CAACC,MAAM,CAACC,IAAI,GAAGF,CAAC,CAACC,MAAM,CAACE;IAAM,CAAC,CAAC;EACjE,CAAC;EAED,MAAMC,YAAY,GAAG,MAAOJ,CAAC,IAAK;IAC9BA,CAAC,CAACK,cAAc,CAAC,CAAC;IAClB,IAAI;MACA,MAAM;QAAEb,KAAK;QAAEC;MAAS,CAAC,GAAGH,QAAQ;MACpC,MAAMgB,cAAc,GAAG,MAAMtB,0BAA0B,CAACc,IAAI,EAAEN,KAAK,EAAEC,QAAQ,CAAC;MAC9E,MAAMc,IAAI,GAAGD,cAAc,CAACC,IAAI;MAEhC,IAAI,CAACA,IAAI,CAACC,aAAa,EAAE;QACrBb,UAAU,CAAC,gDAAgD,CAAC;QAC5D;MACJ;MAEA,MAAMc,OAAO,GAAG,MAAMF,IAAI,CAACG,UAAU,CAAC,CAAC;MACvC,MAAMC,GAAG,GAAG,MAAMtC,KAAK,CAACuC,IAAI,CAAC,uCAAuC,EAAE;QAAEH;MAAQ,CAAC,CAAC;MAElFd,UAAU,CAAC,sBAAsB,CAAC;MAClCkB,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEH,GAAG,CAACI,IAAI,CAAC;MAExClB,KAAK,CAACc,GAAG,CAACI,IAAI,CAACR,IAAI,CAAC;MACpBX,QAAQ,CAAC,WAAW,CAAC;IAEzB,CAAC,CAAC,OAAOoB,GAAG,EAAE;MAAA,IAAAC,aAAA,EAAAC,kBAAA;MACVvB,UAAU,CAAC,gBAAgB,CAAC;MAC5BkB,OAAO,CAACM,KAAK,CAAC,cAAc,EAAE,EAAAF,aAAA,GAAAD,GAAG,CAACI,QAAQ,cAAAH,aAAA,wBAAAC,kBAAA,GAAZD,aAAA,CAAcF,IAAI,cAAAG,kBAAA,uBAAlBA,kBAAA,CAAoBxB,OAAO,KAAI,cAAc,CAAC;IAChF;EACJ,CAAC;EAED,oBACIP,OAAA,CAACT,GAAG;IACA2C,EAAE,EAAE;MACAC,SAAS,EAAE,OAAO;MAClBC,OAAO,EAAE,MAAM;MACfC,cAAc,EAAE,QAAQ;MACxBC,UAAU,EAAE,QAAQ;MACpBxC,eAAe,EAAE,OAAOA,eAAe,GAAG;MAC1CyC,cAAc,EAAE,OAAO;MACvBC,kBAAkB,EAAE;IACxB,CAAE;IAAAC,QAAA,eAEFzC,OAAA,CAACX,SAAS;MAACqD,QAAQ,EAAC,IAAI;MAAAD,QAAA,eACpBzC,OAAA,CAACR,KAAK;QACFmD,SAAS,EAAE,EAAG;QACdT,EAAE,EAAE;UACAU,CAAC,EAAE,CAAC;UACJC,YAAY,EAAE,CAAC;UACfC,cAAc,EAAE,YAAY;UAC5BC,eAAe,EAAE,0BAA0B;UAAE;UAC7CC,SAAS,EAAE,8BAA8B;UACzCC,KAAK,EAAE,MAAM;UACbC,SAAS,EAAE;QACf,CAAE;QAAAT,QAAA,gBAEFzC,OAAA,CAACV,UAAU;UAAC6D,OAAO,EAAC,IAAI;UAACC,SAAS,EAAC,IAAI;UAACC,YAAY;UAACC,UAAU,EAAC,MAAM;UAAAb,QAAA,EAAC;QAEvE;UAAAc,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAY,CAAC,eACb1D,OAAA,CAACV,UAAU;UAAC6D,OAAO,EAAC,OAAO;UAACjB,EAAE,EAAE;YAAEyB,EAAE,EAAE,CAAC;YAAEC,QAAQ,EAAE;UAAO,CAAE;UAAAnB,QAAA,EAAC;QAE7D;UAAAc,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAY,CAAC,eAEb1D,OAAA,CAACT,GAAG;UAAC6D,SAAS,EAAC,MAAM;UAACS,QAAQ,EAAE5C,YAAa;UAACiB,EAAE,EAAE;YAAEE,OAAO,EAAE,MAAM;YAAE0B,aAAa,EAAE,QAAQ;YAAEC,GAAG,EAAE;UAAE,CAAE;UAAAtB,QAAA,gBACnGzC,OAAA,CAACb,SAAS;YACN6E,KAAK,EAAC,OAAO;YACbb,OAAO,EAAC,UAAU;YAClBpC,IAAI,EAAC,OAAO;YACZkD,IAAI,EAAC,OAAO;YACZC,QAAQ,EAAEtD,YAAa;YACvBuD,QAAQ;YACRjC,EAAE,EAAE;cAAEa,eAAe,EAAE,OAAO;cAAEF,YAAY,EAAE;YAAE;UAAE;YAAAU,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACrD,CAAC,eACF1D,OAAA,CAACb,SAAS;YACN6E,KAAK,EAAC,UAAU;YAChBb,OAAO,EAAC,UAAU;YAClBpC,IAAI,EAAC,UAAU;YACfkD,IAAI,EAAC,UAAU;YACfC,QAAQ,EAAEtD,YAAa;YACvBuD,QAAQ;YACRjC,EAAE,EAAE;cAAEa,eAAe,EAAE,OAAO;cAAEF,YAAY,EAAE;YAAE;UAAE;YAAAU,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACrD,CAAC,eACF1D,OAAA,CAACZ,MAAM;YACH+D,OAAO,EAAC,WAAW;YACnBF,KAAK,EAAC,WAAW;YACjBgB,IAAI,EAAC,QAAQ;YACb/B,EAAE,EAAE;cACAkC,EAAE,EAAE,CAAC;cACLC,EAAE,EAAE,GAAG;cACPf,UAAU,EAAE,MAAM;cAClBgB,UAAU,EAAE,0CAA0C;cACtD,SAAS,EAAE;gBAAEA,UAAU,EAAE;cAA2C;YACxE,CAAE;YAAA7B,QAAA,EACL;UAED;YAAAc,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACT1D,OAAA,CAACV,UAAU;YAAC6D,OAAO,EAAC,OAAO;YAACjB,EAAE,EAAE;cAAEkC,EAAE,EAAE;YAAE,CAAE;YAAA3B,QAAA,GAAC,yBAChB,eAAAzC,OAAA,CAACP,IAAI;cAAC8E,IAAI,EAAC,WAAW;cAACrC,EAAE,EAAE;gBAAEe,KAAK,EAAE,SAAS;gBAAEK,UAAU,EAAE;cAAO,CAAE;cAAAb,QAAA,EAAC;YAAQ;cAAAc,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACZ,CAAC,EACLnD,OAAO,iBACJP,OAAA,CAACV,UAAU;UAAC6D,OAAO,EAAC,OAAO;UAACF,KAAK,EAAC,cAAc;UAACf,EAAE,EAAE;YAAEkC,EAAE,EAAE;UAAE,CAAE;UAAA3B,QAAA,EAC1DlC;QAAO;UAAAgD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA,CACf;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACX,CAAC;AAEd,CAAC;AAACxD,EAAA,CApHID,KAAK;EAAA,QAGUP,WAAW,EACVC,OAAO;AAAA;AAAA6E,EAAA,GAJvBvE,KAAK;AAsHX,eAAeA,KAAK;AAAC,IAAAuE,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}